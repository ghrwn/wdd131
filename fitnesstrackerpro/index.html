<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fitness Tracker Pro - Home</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Sidebar -->
  <div class="sidebar">
    <ul>
      <li><a href="index.html"><img src="icons/home-icon.png" alt="Home" loading="lazy"></a></li>
      <li><a href="exercise-log.html"><img src="icons/exercise-icon.png" alt="Exercise Log" loading="lazy"></a></li>
      <li><a href="progress-tracker.html"><img src="icons/progress-icon.png" alt="Progress Tracker" loading="lazy"></a></li>
      <li><a href="settings.html"><img src="icons/settings-icon.png" alt="Settings" loading="lazy"></a></li>
    </ul>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <header>
      <div class="top-nav">
        <a href="index.html" class="logo">Fitness Tracker Pro</a>
        <input type="text" placeholder="Search...">
        <div class="nav-buttons">
          <button>Upload</button>
          <button>Notifications</button>
          <button>Settings</button>
        </div>
      </div>
    </header>

    <section class="fitness-data">
      <h2>Fitness Data</h2>
      <div class="data-box">
        <h3>Total Steps: <span id="total-steps">0</span></h3>
        <h3>Calories Burned: <span id="total-calories">0</span></h3>
        <h3>Goal Progress: <span id="goal-progress">0%</span></h3>
        <img src="images/image.jpg" alt="Fitness Image" loading="lazy">
      </div>
    </section>

    <section>
      <a href="exercise-log.html" class="button">Log New Exercise</a>
      <a href="progress-tracker.html" class="button">View Your Progress</a>
    </section>
  </div>

  <footer>
    <p>Last Modified: <span id="lastModified"></span></p>
    <p><a href="references.html">References</a></p>
  </footer>

  <script>
    document.getElementById('lastModified').textContent = document.lastModified;

    // Retrieve exercises from localStorage
    const exercises = JSON.parse(localStorage.getItem("exercises")) || [];

    // Function to calculate total calories burned
    function calculateTotalCalories() {
      return exercises.reduce((total, exercise) => total + parseFloat(exercise.calories), 0);
    }

    // Function to calculate total steps
    function calculateTotalSteps() {
      return exercises.reduce((total, exercise) => total + parseFloat(exercise.steps), 0);
    }

    // Function to calculate goal progress
    function calculateGoalProgress(totalCalories) {
      const goalCalories = 1000; // Goal is set to 1000 calories
      return Math.min((totalCalories / goalCalories) * 100, 100).toFixed(2);
    }

    // Function to update Fitness Data dynamically
    function updateFitnessData() {
      const totalCalories = calculateTotalCalories();
      const totalSteps = calculateTotalSteps();
      const progress = calculateGoalProgress(totalCalories);

      document.getElementById("total-calories").textContent = totalCalories;
      document.getElementById("goal-progress").textContent = `${progress}%`;
      document.getElementById("total-steps").textContent = totalSteps;
    }

    // Initial rendering of fitness data
    updateFitnessData();
  </script>

</body>
</html>